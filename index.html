<!-- Sydney theme: Deep blue, white, and accent gradients, with modern glassmorphism and shadow effects -->
<head>
  <!-- Neumorphic Vision theme + advanced animations -->
  <meta charset="UTF-8" />
  <title>HR Management System</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css?family=Inter:400,600,700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #e0e5ec;
      --surface: #f5f6fa;
      --shadow-light: #ffffff;
      --shadow-dark: #a3b1c6;
      --primary: #3a506b;
      --accent: #5bc0be;
      --accent2: #3a506b;
      --danger: #ef4444;
      --success: #22c55e;
      --radius: 18px;
      --transition: 0.22s cubic-bezier(.4,0,.2,1);
    }
    html, body {
      margin: 0; padding: 0;
      min-height: 100vh;
      background: var(--bg);
      font-family: 'Inter', Arial, sans-serif;
      color: var(--primary);
      background-attachment: fixed;
      overflow-x: hidden;
    }
    body { display: flex; flex-direction: column; align-items: center; }
    .container { max-width: 1100px; width: 100%; margin: 2rem auto; }

    /* Parallax background animation */
    body::before, body::after {
      content: "";
      position: fixed;
      left: 0; top: 0; width: 100vw; height: 100vh;
      z-index: -2;
      pointer-events: none;
      background: radial-gradient(circle at 70% 30%, #5bc0be33 0%, transparent 70%),
                  radial-gradient(circle at 20% 80%, #3a506b22 0%, transparent 80%);
      animation: parallaxBg 18s linear infinite alternate;
    }
    @keyframes parallaxBg {
      0% { background-position: 70% 30%, 20% 80%; }
      100% { background-position: 60% 40%, 30% 70%; }
    }

    /* Card and neumorphic surfaces */
    .card, .card-admin {
      background: var(--surface);
      border-radius: var(--radius);
      box-shadow:
        8px 8px 16px var(--shadow-dark),
        -8px -8px 16px var(--shadow-light);
      padding: 2rem 2.5rem;
      margin: 2rem auto;
      min-width: 320px;
      max-width: 500px;
      text-align: center;
      transition: box-shadow var(--transition), background var(--transition), transform 0.4s cubic-bezier(.4,0,.2,1);
      border: none;
      animation: fadeInUp 1s;
      opacity: 0;
      animation-fill-mode: forwards;
    }
    .card-admin {
      padding: 1.5rem 1.5rem 1.2rem 1.5rem;
      max-width: 100%;
    }
    .card:hover, .card-admin:hover {
      transform: translateY(-6px) scale(1.03);
      box-shadow:
        12px 12px 24px var(--shadow-dark),
        -12px -12px 24px var(--shadow-light);
      transition: box-shadow 0.3s, transform 0.3s;
    }
    h1, h2, h3, h4 {
      transition: color 0.3s;
    }
    h1 { color: var(--primary); letter-spacing: 1px; animation: kineticText 1.2s cubic-bezier(.4,0,.2,1) both;}
    h2 { color: var(--accent); margin-top: 2em; }
    h3, h4 { color: var(--primary);}
    @keyframes kineticText {
      0% { letter-spacing: 0.2em; opacity: 0; transform: translateY(-30px);}
      60% { letter-spacing: 0.1em; opacity: 1; transform: translateY(10px);}
      100% { letter-spacing: 1px; opacity: 1; transform: translateY(0);}
    }

    /* Inputs, buttons, selects, textarea */
    input, button, select, textarea {
      font-size: 1.1em;
      padding: 0.7em 1.2em;
      border-radius: 12px;
      border: none;
      margin: 0.5em 0;
      font-family: inherit;
      width: 100%;
      box-sizing: border-box;
      background: var(--surface);
      box-shadow:
        4px 4px 8px var(--shadow-dark),
        -4px -4px 8px var(--shadow-light);
      transition: box-shadow var(--transition), background var(--transition), transform 0.3s cubic-bezier(.4,0,.2,1);
      outline: none;
    }
    input:focus, select:focus, textarea:focus {
      box-shadow:
        2px 2px 6px var(--shadow-dark),
        -2px -2px 6px var(--shadow-light),
        0 0 0 2px var(--accent);
      background: #f0f4f8;
      transform: scale(1.03);
    }
    button {
      background: linear-gradient(90deg, var(--accent) 0%, #c7ecee 100%);
      color: var(--primary);
      font-weight: 600;
      cursor: pointer;
      border: none;
      outline: none;
      transition: background var(--transition), box-shadow var(--transition), transform var(--transition);
      box-shadow:
        4px 4px 8px var(--shadow-dark),
        -4px -4px 8px var(--shadow-light);
      position: relative;
      overflow: hidden;
    }
    button::after {
      content: "";
      position: absolute;
      left: 50%; top: 50%;
      width: 0; height: 0;
      background: rgba(91,192,190,0.15);
      border-radius: 50%;
      transform: translate(-50%,-50%);
      transition: width 0.4s, height 0.4s;
      z-index: 0;
    }
    button:active::after {
      width: 200%; height: 200%;
      transition: width 0.2s, height 0.2s;
    }
    button:hover, button:focus {
      background: linear-gradient(90deg, #c7ecee 0%, var(--accent) 100%);
      transform: translateY(-2px) scale(1.07) rotate(-1deg);
      box-shadow:
        2px 2px 6px var(--shadow-dark),
        -2px -2px 6px var(--shadow-light),
        0 4px 16px #b2bec3;
    }
    .dashboard { display: none; }
    .dashboard.active {
      display: block;
      animation: fadeInDash 0.8s;
    }
    .dashboard-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
      animation: fadeIn 0.8s 0.2s;
    }
    .card-title { font-weight: 700; color: var(--accent);}
    .card-value {
      font-size: 2em;
      font-weight: 700;
      animation: bounceIn 0.8s;
    }
    .card-desc { color: #64748b; font-size: 1em;}
    .tab-bar {
      display: flex;
      gap: 1em;
      margin: 2em 0 1em 0;
      justify-content: center;
      flex-wrap: wrap;
      animation: fadeIn 0.7s 0.3s;
    }
    .tab-btn {
      background: var(--surface);
      color: var(--accent);
      border: none;
      border-radius: 14px 14px 0 0;
      padding: 0.7em 1.5em;
      font-weight: 600;
      cursor: pointer;
      box-shadow:
        2px 2px 6px var(--shadow-dark),
        -2px -2px 6px var(--shadow-light);
      transition: background var(--transition), color var(--transition), box-shadow var(--transition), transform 0.2s;
      position: relative;
      z-index: 1;
    }
    .tab-btn.active, .tab-btn:hover {
      background: var(--accent);
      color: #fff;
      box-shadow:
        1px 1px 3px var(--shadow-dark),
        -1px -1px 3px var(--shadow-light);
      transform: scale(1.07);
    }
    .tab-btn:not(.active):hover::after {
      content: '';
      position: absolute;
      left: 0; right: 0; bottom: 0;
      height: 3px;
      background: var(--accent);
      border-radius: 2px;
      animation: lineGrow 0.3s forwards;
    }
    @keyframes lineGrow {
      from { width: 0; }
      to { width: 100%; }
    }
    .tab-content {
      display: none;
      opacity: 0;
      transform: translateY(30px) scale(0.98);
      transition: opacity 0.5s, transform 0.5s;
    }
    .tab-content.active {
      display: block;
      opacity: 1;
      transform: translateY(0) scale(1);
      animation: fadeInUp 0.8s;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      background: var(--surface);
      border-radius: var(--radius);
      box-shadow:
        4px 4px 12px var(--shadow-dark),
        -4px -4px 12px var(--shadow-light);
      overflow: hidden;
      margin-bottom: 2rem;
      animation: fadeInUp 1s;
    }
    th, td {
      padding: 1rem;
      text-align: left;
      font-size: 1rem;
      background: var(--surface);
      border-bottom: 1px solid #dde1e7;
      animation: fadeIn 0.7s;
    }
    th {
      background: #eaf0fb;
      font-weight: 700;
      color: var(--accent);
      border-bottom: 2px solid #c7ecee;
    }
    tr:last-child td {
      border-bottom: none;
    }
    tr:hover td {
      background: #e0f7fa;
      transition: background 0.3s;
    }
    .status {
      margin-top: 1em;
      font-size: 1.1em;
      animation: fadeIn 0.7s 0.5s;
    }
    .success { color: var(--success);}
    .danger { color: var(--danger);}
    ul {
      background: var(--surface);
      border-radius: var(--radius);
      padding: 1em 1.2em;
      margin: 0.5em 0;
      list-style: disc inside;
      box-shadow:
        2px 2px 6px var(--shadow-dark),
        -2px -2px 6px var(--shadow-light);
      animation: fadeIn 0.7s 0.3s;
    }
    /* Skeleton loading animation */
    .skeleton {
      background: linear-gradient(90deg, #e0e5ec 25%, #f5f6fa 50%, #e0e5ec 75%);
      background-size: 200% 100%;
      animation: skeletonMove 1.2s infinite linear;
      border-radius: var(--radius);
      min-height: 1.5em;
    }
    @keyframes skeletonMove {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }
    /* Animated SVG icon example */
    .animated-svg {
      width: 48px; height: 48px;
      display: inline-block;
      vertical-align: middle;
      margin-bottom: -10px;
      animation: svgPulse 2s infinite alternate;
    }
    @keyframes svgPulse {
      0% { transform: scale(1);}
      100% { transform: scale(1.12);}
    }
    /* Microinteraction for form validation */
    .input-error {
      animation: shake 0.3s;
      border: 1.5px solid var(--danger);
      background: #ffeaea;
    }
    @keyframes shake {
      0% { transform: translateX(0);}
      20% { transform: translateX(-6px);}
      40% { transform: translateX(6px);}
      60% { transform: translateX(-4px);}
      80% { transform: translateX(4px);}
      100% { transform: translateX(0);}
    }
    /* Progress bar animation */
    .progress-bar {
      width: 0;
      height: 6px;
      background: linear-gradient(90deg, var(--accent), var(--accent2));
      border-radius: 3px;
      animation: progressGrow 2s forwards;
    }
    @keyframes progressGrow {
      from { width: 0; }
      to { width: 100%; }
    }
    /* Parallax scroll effect for dashboard cards */
    .dashboard-cards {
      perspective: 800px;
    }
    .card-admin {
      transition: transform 0.5s cubic-bezier(.4,0,.2,1), box-shadow 0.5s;
    }
    .card-admin:hover {
      transform: rotateY(8deg) scale(1.04);
      box-shadow:
        12px 12px 24px var(--shadow-dark),
        -12px -12px 24px var(--shadow-light);
    }
    /* Full-screen intro animation */
    #introScreen {
      position: fixed;
      left: 0; top: 0; width: 100vw; height: 100vh;
      background: var(--bg);
      z-index: 9999;
      display: flex; align-items: center; justify-content: center;
      animation: introFadeOut 2.2s 1.5s forwards;
    }
    #introScreen .intro-logo {
      font-size: 2.5em;
      color: var(--accent2);
      letter-spacing: 0.2em;
      animation: kineticText 1.2s cubic-bezier(.4,0,.2,1) both;
    }
    @keyframes introFadeOut {
      to { opacity: 0; pointer-events: none; visibility: hidden;}
    }
    /* Animations */
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(40px);}
      to { opacity: 1; transform: translateY(0);}
    }
    @keyframes fadeIn {
      from { opacity: 0;}
      to { opacity: 1;}
    }
    @keyframes fadeInDash {
      from { opacity: 0; transform: scale(0.97);}
      to { opacity: 1; transform: scale(1);}
    }
    @keyframes bounceIn {
      0% { opacity: 0; transform: scale(0.7);}
      60% { opacity: 1; transform: scale(1.15);}
      100% { opacity: 1; transform: scale(1);}
    }
    @media (max-width: 800px) {
      .dashboard-cards { grid-template-columns: 1fr; }
      .card, .card-admin { min-width: 0; }
      table, th, td { font-size: 0.98em; }
    }
  </style>
</head>
<body>
  <!-- Full-screen intro animation -->
  <div id="introScreen">
    <span class="intro-logo">WMS <svg class="animated-svg" viewBox="0 0 48 48"><circle cx="24" cy="24" r="18" fill="#5bc0be" opacity="0.2"/><circle cx="24" cy="24" r="10" fill="#5bc0be"/></svg></span>
  </div>
  <!-- Login Card -->
  <div class="card" id="loginCard">
    <h1>HR Management System</h1>
    <form id="loginForm" autocomplete="off">
      <select id="role" required>
        <option value="">Select Role</option>
        <option value="employee">Employee</option>
        <option value="manager">Manager</option>
        <option value="hr">HR/Admin</option>
      </select>
      <input id="username" placeholder="Username" required />
      <input id="password" type="password" placeholder="Password" required />
      <button type="submit">Login</button>
    </form>
    <div class="status" id="loginStatus"></div>
  </div>

  <!-- Employee Dashboard -->
  <div class="dashboard" id="employeeDashboard">
    <h2>Welcome, <span id="empName">Amit Kumar</span></h2>
    <div class="tab-bar">
      <button class="tab-btn active" onclick="showTab('emp-attendance')">Attendance</button>
      <button class="tab-btn" onclick="showTab('emp-leave')">Leave</button>
      <button class="tab-btn" onclick="showTab('emp-pf')">Provident Fund</button>
      <button class="tab-btn" onclick="showTab('emp-payroll')">Payroll</button>
      <button class="tab-btn" onclick="showTab('emp-performance')">Performance</button>
    </div>
    <div class="tab-content active" id="emp-attendance">
      <h3>Attendance</h3>
      <form id="empAttendanceForm">
        <label>Clock In/Out Method:
          <select id="attendanceMethod">
            <option value="biometric">Biometric</option>
            <option value="pin">PIN</option>
            <option value="gps" selected>Mobile (GPS)</option>
            <option value="face">Facial Recognition</option>
          </select>
        </label>
        <button type="submit">Clock In/Out</button>
      </form>
      <div id="empAttendanceStatus" class="success">Attendance marked at 09:01 AM (GPS)</div>
      <div id="empAttendanceLog">
        <h4>Recent Attendance</h4>
        <table>
          <tr><th>Date</th><th>Status</th><th>Method</th></tr>
          <tr><td>2025-06-21</td><td>Present</td><td>GPS</td></tr>
          <tr><td>2025-06-20</td><td>Present</td><td>Biometric</td></tr>
          <tr><td>2025-06-19</td><td>Late</td><td>PIN</td></tr>
          <tr><td>2025-06-18</td><td>Absent</td><td>-</td></tr>
        </table>
      </div>
      <button onclick="showRegularization()">Attendance Regularization</button>
      <div id="regularizationForm" style="display:none;">
        <h4>Attendance Regularization</h4>
        <form id="empRegularizeForm">
          <input type="date" id="regDate" required>
          <input type="text" id="regReason" placeholder="Reason" required>
          <button type="submit">Submit Request</button>
        </form>
        <div id="empRegularizeStatus"></div>
      </div>
    </div>
    <div class="tab-content" id="emp-leave">
      <h3>Leave Management</h3>
      <form id="empLeaveForm">
        <input type="date" id="leaveStart" required>
        <input type="date" id="leaveEnd" required>
        <select id="leaveType">
          <option value="casual" selected>Casual</option>
          <option value="sick">Sick</option>
          <option value="earned">Earned</option>
        </select>
        <input type="text" id="leaveReason" placeholder="Reason" required value="Family function"/>
        <button type="submit">Request Leave</button>
      </form>
      <div id="empLeaveStatus" class="success">Last leave approved for 2025-06-10 to 2025-06-12</div>
      <div id="empLeaveLog">
        <h4>Leave History</h4>
        <table>
          <tr><th>Type</th><th>From</th><th>To</th><th>Status</th></tr>
          <tr><td>Sick</td><td>2025-06-10</td><td>2025-06-12</td><td>Approved</td></tr>
          <tr><td>Casual</td><td>2025-05-05</td><td>2025-05-06</td><td>Rejected</td></tr>
        </table>
      </div>
    </div>
    <div class="tab-content" id="emp-pf">
      <h3>Provident Fund</h3>
      <div id="empPFDetails">
        <strong>PF Balance:</strong> ₹1,25,000<br>
        <strong>Employee Share:</strong> ₹75,000<br>
        <strong>Employer Share:</strong> ₹50,000
      </div>
      <button onclick="showPFLoan()">Request PF Loan/Withdrawal</button>
      <div id="pfLoanForm" style="display:none;">
        <form id="empPFLoanForm">
          <input type="number" id="pfLoanAmount" placeholder="Amount" required>
          <input type="text" id="pfLoanReason" placeholder="Reason" required>
          <button type="submit">Submit Request</button>
        </form>
        <div id="empPFLoanStatus"></div>
      </div>
      <div id="empPFStatement">
        <h4>PF Statement</h4>
        <table>
          <tr><th>Date</th><th>Type</th><th>Amount</th></tr>
          <tr><td>2025-06-01</td><td>Contribution</td><td>₹2,000</td></tr>
          <tr><td>2025-05-01</td><td>Contribution</td><td>₹2,000</td></tr>
          <tr><td>2025-04-01</td><td>Interest</td><td>₹500</td></tr>
        </table>
      </div>
    </div>
    <div class="tab-content" id="emp-payroll">
      <h3>Payroll</h3>
      <div id="empPayrollDetails">
        <strong>Gross Pay:</strong> ₹80,000<br>
        <strong>Deductions:</strong> ₹8,000<br>
        <strong>Net Pay:</strong> ₹72,000
      </div>
      <button onclick="downloadPayslip()">Download Payslip</button>
      <div id="empPayrollHistory">
        <h4>Payroll History</h4>
        <table>
          <tr><th>Month</th><th>Gross</th><th>Net</th><th>Status</th></tr>
          <tr><td>2025-06</td><td>₹80,000</td><td>₹72,000</td><td>Paid</td></tr>
          <tr><td>2025-05</td><td>₹80,000</td><td>₹72,000</td><td>Paid</td></tr>
        </table>
      </div>
    </div>
    <div class="tab-content" id="emp-performance">
      <h3>Performance</h3>
      <div id="empPerformanceGoals">
        <h4>Current Goals</h4>
        <ul>
          <li>Complete AI Model Deployment by July</li>
          <li>Reduce model inference time by 20%</li>
        </ul>
      </div>
      <div id="empPerformanceReviews">
        <h4>Performance Reviews</h4>
        <table>
          <tr><th>Period</th><th>Score</th><th>Feedback</th></tr>
          <tr><td>Q1 2025</td><td>4.5</td><td>Excellent work on project delivery.</td></tr>
          <tr><td>Q4 2024</td><td>4.2</td><td>Consistent performer.</td></tr>
        </table>
      </div>
    </div>
    <button onclick="logout()">Logout</button>
  </div>

  <!-- Manager Dashboard -->
  <div class="dashboard" id="managerDashboard">
    <h2>Manager Dashboard</h2>
    <div class="dashboard-cards">
      <div class="card-admin">
        <div class="card-title">Team Attendance</div>
        <div class="card-value" id="mgrTeamAttendance">8/10</div>
        <div class="card-desc">Present Today</div>
      </div>
      <div class="card-admin">
        <div class="card-title">Pending Leaves</div>
        <div class="card-value" id="mgrPendingLeaves">2</div>
        <div class="card-desc">Awaiting Approval</div>
      </div>
      <div class="card-admin">
        <div class="card-title">Performance Reviews</div>
        <div class="card-value" id="mgrPerformanceReviews">3</div>
        <div class="card-desc">This Quarter</div>
      </div>
    </div>
    <div class="tab-bar">
      <button class="tab-btn active" onclick="showTab('mgr-attendance')">Attendance</button>
      <button class="tab-btn" onclick="showTab('mgr-leave')">Leave Approvals</button>
      <button class="tab-btn" onclick="showTab('mgr-performance')">Performance</button>
    </div>
    <div class="tab-content active" id="mgr-attendance">
      <h3>Team Attendance</h3>
      <div id="mgrAttendanceDashboard">
        <table>
          <tr><th>Name</th><th>Status</th><th>Method</th></tr>
          <tr><td>Amit Kumar</td><td>Present</td><td>GPS</td></tr>
          <tr><td>Priya Singh</td><td>Late</td><td>PIN</td></tr>
          <tr><td>Rahul Verma</td><td>Absent</td><td>-</td></tr>
        </table>
      </div>
      <button onclick="exportAttendance()">Export Attendance Report</button>
    </div>
    <div class="tab-content" id="mgr-leave">
      <h3>Leave Requests</h3>
      <div id="mgrLeaveRequests">
        <table>
          <tr><th>Name</th><th>Type</th><th>From</th><th>To</th><th>Status</th></tr>
          <tr><td>Priya Singh</td><td>Sick</td><td>2025-06-15</td><td>2025-06-16</td><td>Pending</td></tr>
          <tr><td>Rahul Verma</td><td>Casual</td><td>2025-06-18</td><td>2025-06-18</td><td>Pending</td></tr>
        </table>
      </div>
    </div>
    <div class="tab-content" id="mgr-performance">
      <h3>Performance Tracking</h3>
      <div id="mgrPerformanceGoals">
        <ul>
          <li>Team project delivery by July</li>
          <li>Improve code review turnaround</li>
        </ul>
      </div>
      <div id="mgrPerformanceReviews">
        <table>
          <tr><th>Name</th><th>Score</th><th>Feedback</th></tr>
          <tr><td>Amit Kumar</td><td>4.6</td><td>Great leadership.</td></tr>
          <tr><td>Priya Singh</td><td>4.3</td><td>Strong technical skills.</td></tr>
        </table>
      </div>
    </div>
    <button onclick="logout()">Logout</button>
  </div>

  <!-- HR/Admin Dashboard -->
  <div class="dashboard" id="hrDashboard">
    <h2>HR/Admin Dashboard</h2>
    <div class="dashboard-cards">
      <div class="card-admin">
        <div class="card-title">Total Employees</div>
        <div class="card-value" id="hrTotalEmployees">52</div>
        <div class="card-desc">Active</div>
      </div>
      <div class="card-admin">
        <div class="card-title">Payroll Processed</div>
        <div class="card-value" id="hrPayrollProcessed">₹37,50,000</div>
        <div class="card-desc">This Month</div>
      </div>
      <div class="card-admin">
        <div class="card-title">Pending PF Loans</div>
        <div class="card-value" id="hrPendingPFLoans">1</div>
        <div class="card-desc">To Approve</div>
      </div>
    </div>
    <div class="tab-bar">
      <button class="tab-btn active" onclick="showTab('hr-attendance')">Attendance</button>
      <button class="tab-btn" onclick="showTab('hr-payroll')">Payroll</button>
      <button class="tab-btn" onclick="showTab('hr-pf')">Provident Fund</button>
      <button class="tab-btn" onclick="showTab('hr-performance')">Performance</button>
    </div>
    <div class="tab-content active" id="hr-attendance">
      <h3>Attendance Dashboard</h3>
      <div id="hrAttendanceDashboard">
        <table>
          <tr><th>Name</th><th>Date</th><th>Status</th></tr>
          <tr><td>Amit Kumar</td><td>2025-06-21</td><td>Present</td></tr>
          <tr><td>Priya Singh</td><td>2025-06-21</td><td>Late</td></tr>
          <tr><td>Rahul Verma</td><td>2025-06-21</td><td>Absent</td></tr>
        </table>
      </div>
      <button onclick="exportAttendance()">Export Attendance Report</button>
    </div>
    <div class="tab-content" id="hr-payroll">
      <h3>Payroll Processing</h3>
      <div id="hrPayrollDashboard">
        <table>
          <tr><th>Name</th><th>Gross</th><th>Net</th><th>Status</th></tr>
          <tr><td>Amit Kumar</td><td>₹80,000</td><td>₹72,000</td><td>Paid</td></tr>
          <tr><td>Priya Singh</td><td>₹75,000</td><td>₹68,000</td><td>Paid</td></tr>
        </table>
      </div>
      <button onclick="processPayroll()">Process Payroll</button>
    </div>
    <div class="tab-content" id="hr-pf">
      <h3>Provident Fund Management</h3>
      <div id="hrPFManagement">
        <table>
          <tr><th>Name</th><th>PF Balance</th><th>Pending Loan</th></tr>
          <tr><td>Amit Kumar</td><td>₹1,25,000</td><td>No</td></tr>
          <tr><td>Priya Singh</td><td>₹1,10,000</td><td>Yes</td></tr>
        </table>
      </div>
    </div>
    <div class="tab-content" id="hr-performance">
      <h3>Performance Overview</h3>
      <div id="hrPerformanceDashboard">
        <table>
          <tr><th>Name</th><th>Score</th><th>Last Review</th></tr>
          <tr><td>Amit Kumar</td><td>4.6</td><td>2025-06-01</td></tr>
          <tr><td>Priya Singh</td><td>4.3</td><td>2025-05-15</td></tr>
        </table>
      </div>
    </div>
    <div class="tab-content" id="hr-admin-panel">
      <h3>Admin: Manage Employees</h3>
      <button onclick="showAddEmployeeForm()">Add Employee</button>
      <div id="addEmployeeForm" style="display:none; margin:1em 0;">
        <form onsubmit="addEmployee(event)">
          <input id="newEmpName" placeholder="Name" required>
          <input id="newEmpUsername" placeholder="Username" required>
          <input id="newEmpRole" placeholder="Role (employee/manager/hr)" required>
          <input id="newEmpPassword" placeholder="Password" required>
          <button type="submit">Add</button>
          <button type="button" onclick="hideAddEmployeeForm()">Cancel</button>
        </form>
      </div>
      <div id="adminEmployeeTable"></div>
    </div>
    <button onclick="logout()">Logout</button>
  </div>

  <script>
    // --- CONFIG ---
    // Remove API_BASE and all fetch/server logic

    // --- In-memory demo data ---
    const demoUser = { username: 'amitk', name: 'Amit Kumar', role: 'employee' };
    let attendance = [
      { date: '2025-06-21', status: 'Present', method: 'GPS' },
      { date: '2025-06-20', status: 'Present', method: 'Biometric' },
      { date: '2025-06-19', status: 'Late', method: 'PIN' },
      { date: '2025-06-18', status: 'Absent', method: '-' }
    ];
    let leaves = [
      { type: 'Sick', from: '2025-06-10', to: '2025-06-12', status: 'Approved' },
      { type: 'Casual', from: '2025-05-05', to: '2025-05-06', status: 'Rejected' }
    ];
    let pfStatements = [
      { date: '2025-06-01', type: 'Contribution', amount: '₹2,000' },
      { date: '2025-05-01', type: 'Contribution', amount: '₹2,000' },
      { date: '2025-04-01', type: 'Interest', amount: '₹500' }
    ];
    let payrolls = [
      { month: '2025-06', gross: '₹80,000', net: '₹72,000', status: 'Paid' },
      { month: '2025-05', gross: '₹80,000', net: '₹72,000', status: 'Paid' }
    ];
    let performance = [
      { period: 'Q1 2025', score: '4.5', feedback: 'Excellent work on project delivery.' },
      { period: 'Q4 2024', score: '4.2', feedback: 'Consistent performer.' }
    ];

    // --- LOGIN ---
    document.getElementById('loginForm').onsubmit = function(e) {
      e.preventDefault();
      const role = document.getElementById('role').value;
      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;
      document.getElementById('loginStatus').textContent = "Logging in...";
      setTimeout(() => {
        document.getElementById('loginCard').style.display = 'none';
        if (role === 'employee') {
          document.getElementById('empName').textContent = username || demoUser.name;
          document.getElementById('employeeDashboard').classList.add('active');
          loadEmployeeData();
        } else if (role === 'manager') {
          document.getElementById('managerDashboard').classList.add('active');
        } else if (role === 'hr') {
          document.getElementById('hrDashboard').classList.add('active');
        }
        document.getElementById('loginStatus').textContent = "";
      }, 700);
    };

    // --- EMPLOYEE DASHBOARD LOADERS ---
    function loadEmployeeData() {
      loadEmployeeAttendance();
      loadEmployeeLeaves();
      loadEmployeePF();
      loadEmployeePayroll();
      loadEmployeePerformance();
    }
    function loadEmployeeAttendance() {
      let html = `<h4>Recent Attendance</h4><table><tr><th>Date</th><th>Status</th><th>Method</th></tr>`;
      attendance.forEach(row => {
        html += `<tr><td>${row.date}</td><td>${row.status}</td><td>${row.method}</td></tr>`;
      });
      html += `</table>`;
      document.getElementById('empAttendanceLog').innerHTML = html;
    }
    function loadEmployeeLeaves() {
      let html = `<h4>Leave History</h4><table><tr><th>Type</th><th>From</th><th>To</th><th>Status</th></tr>`;
      leaves.forEach(row => {
        html += `<tr><td>${row.type}</td><td>${row.from}</td><td>${row.to}</td><td>${row.status}</td></tr>`;
      });
      html += `</table>`;
      document.getElementById('empLeaveLog').innerHTML = html;
    }
    function loadEmployeePF() {
      let html = `<h4>PF Statement</h4><table><tr><th>Date</th><th>Type</th><th>Amount</th></tr>`;
      pfStatements.forEach(row => {
        html += `<tr><td>${row.date}</td><td>${row.type}</td><td>${row.amount}</td></tr>`;
      });
      html += `</table>`;
      document.getElementById('empPFStatement').innerHTML = html;
    }
    function loadEmployeePayroll() {
      let html = `<h4>Payroll History</h4><table><tr><th>Month</th><th>Gross</th><th>Net</th><th>Status</th></tr>`;
      payrolls.forEach(row => {
        html += `<tr><td>${row.month}</td><td>${row.gross}</td><td>${row.net}</td><td>${row.status}</td></tr>`;
      });
      html += `</table>`;
      document.getElementById('empPayrollHistory').innerHTML = html;
    }
    function loadEmployeePerformance() {
      let html = `<h4>Performance Reviews</h4><table><tr><th>Period</th><th>Score</th><th>Feedback</th></tr>`;
      performance.forEach(row => {
        html += `<tr><td>${row.period}</td><td>${row.score}</td><td>${row.feedback}</td></tr>`;
      });
      html += `</table>`;
      document.getElementById('empPerformanceReviews').innerHTML = html;
    }

    // --- EMPLOYEE ACTIONS ---
    document.getElementById('empAttendanceForm').onsubmit = function(e) {
      e.preventDefault();
      const method = document.getElementById('attendanceMethod').value;
      const today = new Date().toISOString().slice(0, 10);
      attendance.unshift({ date: today, status: 'Present', method });
      loadEmployeeAttendance();
      document.getElementById('empAttendanceStatus').textContent = "Attendance marked!";
    };
    document.getElementById('empRegularizeForm').onsubmit = function(e) {
      e.preventDefault();
      document.getElementById('empRegularizeStatus').textContent = "Regularization request submitted.";
    };
    document.getElementById('empLeaveForm').onsubmit = function(e) {
      e.preventDefault();
      const start = document.getElementById('leaveStart').value;
      const end = document.getElementById('leaveEnd').value;
      const type = document.getElementById('leaveType').value;
      const reason = document.getElementById('leaveReason').value;
      leaves.unshift({ type, from: start, to: end, status: 'Pending' });
      loadEmployeeLeaves();
      document.getElementById('empLeaveStatus').textContent = "Leave request submitted.";
    };
    document.getElementById('empPFLoanForm').onsubmit = function(e) {
      e.preventDefault();
      document.getElementById('empPFLoanStatus').textContent = "PF loan/withdrawal request submitted.";
    };

    // --- CSV EXPORT (for all tables) ---
    function exportTableToCSV(tableSelector, filename) {
      const table = document.querySelector(tableSelector);
      if (!table) return;
      let csv = [];
      const rows = table.querySelectorAll('tr');
      for (let row of rows) {
        let cols = row.querySelectorAll('th,td');
        let rowData = [];
        for (let col of cols) {
          let data = col.innerText.replace(/"/g, '""');
          rowData.push('"' + data + '"');
        }
        csv.push(rowData.join(','));
      }
      const csvFile = new Blob([csv.join('\n')], { type: 'text/csv' });
      const link = document.createElement('a');
      link.href = URL.createObjectURL(csvFile);
      link.download = filename;
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }
    function exportAttendance() {
      exportTableToCSV('#empAttendanceLog table', 'attendance.csv');
    }
    function exportPayroll() {
      exportTableToCSV('#empPayrollHistory table', 'payroll.csv');
    }

    // --- UI Logic (unchanged) ---
    function showTab(tabId) {
      document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
      document.querySelectorAll(`[onclick*="${tabId}"]`).forEach(btn => btn.classList.add('active'));
      document.getElementById(tabId).classList.add('active');
    }
    function showRegularization() {
      document.getElementById('regularizationForm').style.display = 'block';
    }
    function showPFLoan() {
      document.getElementById('pfLoanForm').style.display = 'block';
    }
    function logout() {
      document.querySelectorAll('.dashboard').forEach(d => d.classList.remove('active'));
      document.getElementById('loginCard').style.display = 'block';
    }
    function downloadPayslip() {
      alert('Payslip download triggered (demo only).');
    }
    function processPayroll() {
      alert('Payroll processing triggered (demo only).');
    }

    // --- Initial State ---
    document.querySelectorAll('.dashboard').forEach(d => d.classList.remove('active'));
    document.getElementById('loginCard').style.display = 'block';

    // Remove intro screen after animation
    window.addEventListener('DOMContentLoaded', function() {
      setTimeout(() => {
        document.getElementById('introScreen').style.display = 'none';
        document.querySelectorAll('.card, .card-admin').forEach((el, i) => {
          setTimeout(() => { el.style.opacity = 1; }, 400 + i * 120);
        });
      }, 2200);
    });

    // Microinteraction: input error animation example
    function showInputError(inputId) {
      const el = document.getElementById(inputId);
      el.classList.add('input-error');
      setTimeout(() => el.classList.remove('input-error'), 600);
    }

    // Scroll-triggered animation for tab-content
    function animateOnScroll() {
      document.querySelectorAll('.tab-content').forEach(el => {
        const rect = el.getBoundingClientRect();
        if (rect.top < window.innerHeight - 80) {
          el.classList.add('active');
        }
      });
    }
    window.addEventListener('scroll', animateOnScroll);

    // Example: show progress bar
    function showProgressBar(selector) {
      const el = document.querySelector(selector);
      if (el) {
        el.innerHTML = '<div class="progress-bar"></div>';
      }
    }

    // Demo employee list for admin management
    let employees = [
      { name: 'Amit Kumar', username: 'amitk', role: 'employee', password: 'pass123' },
      { name: 'Priya Singh', username: 'priyas', role: 'manager', password: 'pass123' },
      { name: 'HR Admin', username: 'hradmin', role: 'hr', password: 'admin123' }
    ];

    // Show/hide admin panel tab
    document.querySelectorAll('.tab-bar').forEach(bar => {
      if (bar.parentElement.id === 'hrDashboard') {
        let btn = document.createElement('button');
        btn.className = 'tab-btn';
        btn.textContent = 'Admin Panel';
        btn.onclick = () => showTab('hr-admin-panel');
        bar.appendChild(btn);
      }
    });

    // Render employee table for admin
    function renderAdminEmployeeTable() {
      let html = `<table><tr><th>Name</th><th>Username</th><th>Role</th><th>Password</th><th>Actions</th></tr>`;
      employees.forEach((emp, idx) => {
        html += `<tr>
          <td contenteditable="true" onblur="editEmployee(${idx},'name',this.innerText)">${emp.name}</td>
          <td contenteditable="true" onblur="editEmployee(${idx},'username',this.innerText)">${emp.username}</td>
          <td contenteditable="true" onblur="editEmployee(${idx},'role',this.innerText)">${emp.role}</td>
          <td contenteditable="true" onblur="editEmployee(${idx},'password',this.innerText)">${emp.password}</td>
          <td>
            <button onclick="deleteEmployee(${idx})" style="background:#ef4444;color:#fff;">Delete</button>
          </td>
        </tr>`;
      });
      html += `</table>`;
      document.getElementById('adminEmployeeTable').innerHTML = html;
    }

    function showAddEmployeeForm() {
      document.getElementById('addEmployeeForm').style.display = 'block';
    }
    function hideAddEmployeeForm() {
      document.getElementById('addEmployeeForm').style.display = 'none';
    }
    function addEmployee(e) {
      e.preventDefault();
      const name = document.getElementById('newEmpName').value.trim();
      const username = document.getElementById('newEmpUsername').value.trim();
      const role = document.getElementById('newEmpRole').value.trim();
      const password = document.getElementById('newEmpPassword').value.trim();
      if (!name || !username || !role || !password) return;
      employees.push({ name, username, role, password });
      renderAdminEmployeeTable();
      hideAddEmployeeForm();
      e.target.reset();
    }
    function editEmployee(idx, field, value) {
      employees[idx][field] = value.trim();
      renderAdminEmployeeTable();
    }
    function deleteEmployee(idx) {
      if (confirm('Delete this employee?')) {
        employees.splice(idx, 1);
        renderAdminEmployeeTable();
      }
    }

    // Show admin table when admin panel tab is active
    const originalShowTab = showTab;
    showTab = function(tabId) {
      document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
      document.querySelectorAll(`[onclick*="${tabId}"]`).forEach(btn => btn.classList.add('active'));
      document.getElementById(tabId).classList.add('active');
      if (tabId === 'hr-admin-panel') renderAdminEmployeeTable();
    };
  </script>
</body>

   
